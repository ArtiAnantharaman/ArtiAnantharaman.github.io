---
layout: post
title: 'Planning for a High-DOF Planar Arm'
---

In this programming assignment, I implemented four different sampling-based planners for a 5-DoF planar arm to move from its start joint angles to the goal joint angles. I coded the planners in C++ and followed an object-oriented programming approach to write & maintain clean code.

The four algorithms are:
1. Rapidly-exploring Random Tree (RRT)
2. RRT-Connect
3. RRT-Star
4. Probabilistic Roadmap (PRM)

I then compared the average planning times, average number of vertices sampled, average length of plan generated, and the average path qualities of these planners. There were a number of paramaters I tuned to ensure all four planners were able to find a path to the goal. The most notable is the maximum number of configurations each planner is allowed to sample before we declare that a path cannot be generated- I capped this at 20000.

<P>The start joint angle configuration that was fed to each of these four planners is shown below:</P>
<img src="/assets/img/projects/proj-2/initialConfig.png" alt="init">

<font color = "black"><b><p style="color:black;font-size:22px;">Rapidly-exploring Random Tree (RRT)</p></b></font>
<P>The path generated by the planner from start to goal configuration is:</P>
<img src="/assets/img/projects/proj-2/rrt.png" alt="rrt">
<font color = "black"><b>Average planning time:</b></font> 17 seconds
<font color = "black"><b>Average number of vertices sampled:</b></font> 12000
<font color = "black"><b>Average length of plan generated:</b></font> 56
<font color = "black"><b>Average path quality:</b></font> As is seen in the output, the RRT algorithm generates a plan that has nodes "all over the place". The algorithm randomly samples points in the configuration space and adds it to the tree if it is a valid configuration. This repeats until a newly sampled node is close to the goal configuration within a small margin of error. However, there is no heuristic to help determine how to grow the tree and generate a straightforward path to the goal.

<font color = "black"><b><p style="color:black;font-size:22px;">RRT-Connect</p></b></font>
<P>The path generated by the planner from start to goal configuration is:</P>
<img src="/assets/img/projects/proj-2/rrtconnect.png" alt="rrtconnect">
<font color = "black"><b>Average planning time:</b></font> 3 seconds
<font color = "black"><b>Average number of vertices generated:</b></font> 90
<font color = "black"><b>Average length of plan generated:</b></font> 24
<font color = "black"><b>Average path quality:</b></font> RRT-Connect grows two trees: one starting at the initial config and another stemming from the goal config. The two trees take turns sampling a node and incrementally grow towards each other. The generated path is not as random as the RRT's and demonstrates some structure in moving towards the goal.

<font color = "black"><b><p style="color:black;font-size:24px;">RRT-Star</p></b></font>
<P>The path generated by the planner from start to goal configuration is:</P>
<img src="/assets/img/projects/proj-2/rrtstar.png" alt="rrtstar">
<font color = "black"><b>Average planning time:</b></font> 24 seconds
<font color = "black"><b>Average number of vertices generated:</b></font> 10000
<font color = "black"><b>Average length of plan generated:</b></font> 9
<font color = "black"><b>Average path quality:</b></font> RRT* takes the longest time to generate a plan because it rewires nodes within a neighborhood of region to ensure each node has the shortest possible path back to the start. This induces extra time complexity, slowing the planner down. However, the plan it generates is incredibly intuitive and is almost always the shortest of the plans generated by the other three algorithms.
<font color = "black"><b><p style="color:black;font-size:24px;">Probabilistic Roadmap (PRM)</p></b></font>
<P>The path generated by the planner from start to goal configuration is:</P>
<img src="/assets/img/projects/proj-2/prm.png" alt="prm">
<font color = "black"><b>Average planning time:</b></font> 2 seconds
<font color = "black"><b>Average number of vertices generated:</b></font> 20000 (samples as many nodes as is the threshold)
<font color = "black"><b>Average length of plan generated:</b></font> 15
<font color = "black"><b>Average path quality:</b></font> The PRM planner succeeds in generating a plan under 5 seconds 100% of the time. The algorithm samples the entire configuration space, and then uses Dijkstra's algorithm to traverse the graph and find the shortest path from the start to the goal configuration. Just like the RRT* planner, PRM generates instinctual paths to the goal.  

